# 🕵️ 专业图像测谎工具

基于AI的面部表情和微表情分析工具，用于检测图像中人物的说谎和欺骗迹象。

## ✨ 功能特点

- 🎯 **专业分析**: 基于心理学和微表情理论的多维度分析
- 👁️ **眼部分析**: 眼神接触、眨眼频率、瞳孔变化等指标
- 😐 **面部微表情**: 表情持续时间、对称性、强制性表情检测
- 🤸 **身体语言**: 头部姿态、面部朝向、整体紧张程度
- 💫 **情绪一致性**: 表情与预期情绪的匹配度分析
- 📊 **详细报告**: JSON格式的结构化分析结果

## 🚀 快速开始

### 环境要求

- Python 3.7+
- [Ollama](https://ollama.ai/) 本地运行环境
- 支持的AI模型（推荐 `gemma3:12b`）

### 安装依赖

```bash
pip install requests
```

### 安装Ollama模型

```bash
# 安装推荐模型
ollama pull gemma3:12b

# 启动Ollama服务
ollama serve
```

## 📖 使用方法

### 基本用法

```bash
python lie_detector.py <图像路径>
```

### 指定模型

```bash
python lie_detector.py <图像路径> <模型名称>
```

### 示例

```bash
# 使用默认模型分析
python lie_detector.py person.jpg

# 使用指定模型分析
python lie_detector.py person.jpg gemma3:12b
```

## 📊 分析结果

工具会提供以下维度的详细分析：

### 整体评估
- **说谎可能性**: 0.0-1.0 的概率评分
- **真实性评分**: 1-10 的可信度评分
- **分析置信度**: 分析结果的可靠程度
- **整体印象**: 综合评估描述

### 详细分析
- **眼部分析**: 眼神接触、眨眼模式、瞳孔反应
- **面部微表情**: 表情持续时间、面部对称性、肌肉紧张
- **身体语言**: 头部位置、面部朝向、整体紧张度
- **情绪一致性**: 表情匹配度、情绪冲突分析

### 指标识别
- **欺骗指标**: 可能的说谎迹象列表
- **真实性指标**: 支持诚实的证据列表

## ⚠️ 重要声明

**此工具仅供学习和研究目的使用，分析结果仅供参考，不能作为：**
- 法律诉讼的证据
- 医学或心理诊断依据
- 任何正式决策的唯一依据

人类的表情和行为受多种因素影响，包括文化背景、个人习惯、情绪状态等。请理性对待分析结果。

## 🛠️ 技术架构

- **语言**: Python 3
- **AI引擎**: Ollama本地部署
- **图像处理**: Base64编码传输
- **分析方法**: 基于心理学微表情理论
- **输出格式**: 结构化JSON + 友好显示

## 📝 输出示例

```
🎯 整体评估:
   🎲 说谎可能性: 0.35 (0=诚实, 1=说谎)
   ✅ 真实性评分: 7/10
   🔍 分析置信度: 0.82
   💭 整体印象: 表情自然，但存在轻微紧张迹象

🔬 详细分析:
   👁️  眼部分析:
      • 眼神接触良好，无明显回避
      • 眨眼频率正常
   
   😐 面部微表情:
      • 微笑持续时间适中
      • 面部表情基本对称
```

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用MIT许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🔗 相关资源

- [Ollama官网](https://ollama.ai/)
- [微表情心理学基础](https://en.wikipedia.org/wiki/Microexpression)
- [面部编码系统(FACS)](https://en.wikipedia.org/wiki/Facial_Action_Coding_System)

---

**⭐ 如果这个项目对你有帮助，请给个Star支持一下！**